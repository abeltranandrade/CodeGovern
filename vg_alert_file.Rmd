---
title: "alert notification"
author: "Vibha Gogu"
date: "2022-11-29"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r}
name <- "Electric Vehicle Population Data"
```

```{r}
prefix <- "https://catalog.data.gov/dataset"
  #Specific name needs to be lowercase and with dashes between words
  specific <- tolower(name)
  specific <- gsub(" ", "-", specific)
  # paste the prefix and name together with a slash and no spaces
  full_url <- paste0(prefix,"/", specific, sep = "")
  #Ensure that dataset requested exists
  tryCatch(
    expr = {html <- read_html(full_url)},
    error = function(e){          # Specifying error message
      message("There was an error. The dataset was not found")
    }
  )
  
  alert <- html%>%
    html_elements(".non-federal")
  
  if(length(alert)==0) {
    print("blah")
  }else{
    print("blahblah")
  }
  
 
```
