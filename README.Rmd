---
output: github_document
author: Lika Mikhelashvili, Adriana Beltran Andrade, Vibha Gogu
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# CodeGovern

### Purpose
Code Govern is a package used to scrape and imports and downloads datasets and metadata from the website Data.gov. This website is the federal government's open data site, and has over 298,424 datasets available to download in various export types (i.e. .csv, .xml, .json). Using CodeGovern functions, the data can be easily downloaded onto your computer, or for .csv files, return the data directly in RStudio. The function currently supports only three file types: CSV, JSON, and XML.

## Target audience
This package is intended for users who want to work with open government data without having to repetitively download data and work with the Data.gov interface. This package is  also useful for 
those with domain knowledge who want to start working with data but want a more seamless experience 
given their limited experience.

## Testing

<!-- badges: start -->
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
[![CRAN status](https://www.r-pkg.org/badges/version/CodeGovern)](https://CRAN.R-project.org/package=CodeGovern)
<!-- badges: end -->


## Installation

You can install the development version of CodeGovern like so:

``` r
devtools::install_github("abeltranandrade/CodeGovern")
```
Install our package by using devtools::install_github() as shown below. You may also clone the repository and install it through Rstudio build panel. 


### Dependencies/Setup
Need to load the following libraries:

```r
library(rvest)
library(stringr)
library("htmltools")
library("xml2")
library(tidyverse)
library(readr)
library(rjson)
```

### Arguments

`name` is the name of the dataset you want to download. The name should be a string and should be worded exactly as it appears on the data.gov website. Example, "Lottery Powerball Winning Numbers Beginning 2010"

`type`: type of the data set. Must be a string. For example, "csv", "json", "xml", etc. 


### Result
The function returns a downloaded data file that the user can assign to an object and import into the RStudio environment. The function currently supports only three file types: CSV, JSON, and XML.

- CSV: the function will download the file locally and return a data frame.

- JSON: the function will download the file locally and return the raw JSON file.

- XML: the function will download the file locally.

If the user enters any other file types, the function will put an error message and redirect the user to the website of the data.


## Examples

```{r eval = FALSE}
library(CodeGovern)
my_data1 <- get_gov_file("Electric Vehicle Population Data", "json", import = FALSE)
my_data2 <-get_gov_file("Lottery Powerball Winning Numbers Beginning 2010", "csv", import = FALSE)
```

## Phase III Package

In Phase III we will be working on the same package as in Phase II. Now, we have `get_gov_file` that downloads the data file. In the next phase, we will create a function that gives a catalog of the data sets on the [data.gov](http://www.data.gov) website. We will also work on a function that gives detailed information on the user's data set of choice, e.g., the date published. 
